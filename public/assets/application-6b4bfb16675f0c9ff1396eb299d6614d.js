!function(){var t,e,n,o,r,i,a,u,c,l,d,s,f,h,p,m,g,v,w,y,b,x,C,A,T,S,k,L,E,H,z,O,D,N,j,P,R,I,X,q,M,$,G,K,U={}.hasOwnProperty,V=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};y=!1,d=null,L=document.location.href,x=null,S={},c=null,P=(null!=(K=document.cookie.match(/request_method=(\w+)/))?K[1].toUpperCase():void 0)||"",G=null,$=function(t){return r&&o?(i(),E(t),m(t)):document.location.href=t},m=function(t){var e;return q("page:fetch"),e=N(t),null!=G&&G.abort(),G=new XMLHttpRequest,G.open("GET",e,!0),G.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),G.setRequestHeader("X-XHR-Referer",L),G.onload=function(){var t;return q("page:receive"),(t=M())?(a.apply(null,h(t)),H(),document.location.hash?document.location.href=document.location.href:I(),q("page:load")):void 0},G.onloadend=function(){return G=null},G.onabort=function(){return O()},G.onerror=function(){return document.location.href=t},G.send()},p=function(t){var e;return i(),(e=S[t.position])?(null!=G&&G.abort(),a(e.title,e.body),k(e),q("page:restore")):m(document.location.href)},i=function(){return D(),S[d.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},u(10)},u=function(t){var e,n;for(e in S)U.call(S,e)&&(n=S[e],e<=d.position-t&&(S[e]=null))},a=function(e,n,o,r){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=o&&t.update(o),j(),r&&s(),d=window.history.state,q("page:change")},s=function(){var t,e,n,o,r,i,a,u,c,l,d,s;for(i=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,c=i.length;c>a;a++)if(r=i[a],""===(d=r.type)||"text/javascript"===d){for(e=document.createElement("script"),s=r.attributes,u=0,l=s.length;l>u;u++)t=s[u],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(r.innerHTML)),o=r.parentNode,n=r.nextSibling,o.removeChild(r),o.insertBefore(e,n)}},j=function(){var t,e,n,o;for(e=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),n=0,o=e.length;o>n;n++)t=e[n],t.parentNode.removeChild(t)},E=function(t){return t!==document.location.href?(L=document.location.href,window.history.pushState({turbolinks:!0,position:d.position+1},"",t)):void 0},H=function(){var t,e;return(t=G.getResponseHeader("X-XHR-Redirected-To"))?(e=N(t)===t?document.location.hash:"",window.history.replaceState(d,"",t+e)):void 0},O=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},z=function(){return d=window.history.state},D=function(){return y?void 0:(O(),z(),c=n(),y=!0)},k=function(t){return window.scrollTo(t.positionX,t.positionY)},I=function(){return window.scrollTo(0,0)},N=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},q=function(t){var e;return e=document.createEvent("Events"),e.initEvent(t,!0,!0),document.dispatchEvent(e)},M=function(){var t,e,n,o,r,i,a;return e=function(){var t;return 400<=(t=G.status)&&600>t},i=function(){return!G.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},o=function(t){var e,n,o,r,i;for(r=t.head.childNodes,i=[],n=0,o=r.length;o>n;n++)e=r[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&i.push(e.src||e.href);return i},t=function(t){var e;return x||(x=o(document)),e=o(t),e.length!==x.length||r(e,x).length!==x.length},r=function(t,e){var n,o,r,i,a;for(t.length>e.length&&(i=[e,t],t=i[0],e=i[1]),a=[],o=0,r=t.length;r>o;o++)n=t[o],V.call(e,n)>=0&&a.push(n);return a},e()?(a=document.location.href,window.history.replaceState(null,"","#"),window.location.replace(a),!1):i()||t(n=c(G.responseText))?(window.location.reload(),!1):n},h=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,e.body,t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e?"function"==typeof e.getAttribute?e.getAttribute("content"):void 0:void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},n=function(){var t,e,n,o,r,i;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return r=e("<html><body><p>test"),e}catch(a){return o=a,r=t("<html><body><p>test"),t}finally{if(1!==(null!=r?null!=(i=r.body)?i.childNodes.length:void 0:void 0))return n}},b=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",g,!1),document.addEventListener("click",g,!1))},g=function(t){var e;return t.defaultPrevented||(e=f(t),"A"!==e.nodeName||v(t,e))?void 0:($(e.href),t.preventDefault())},f=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},l=function(t){return location.protocol!==t.protocol||location.host!==t.host},e=function(t){return(t.hash&&N(t))===N(location)||t.href===location.href+"#"},A=function(t){var e;return e=N(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(/\.html?(\?.*)?$/g)},C=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},X=function(t){return 0!==t.target.length},T=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},v=function(t,n){return l(n)||e(n)||A(n)||C(n)||X(n)||T(t)},w=function(){return document.addEventListener("click",b,!0),window.addEventListener("popstate",function(t){var e;return(null!=(e=t.state)?e.turbolinks:void 0)?p(t.state):void 0},!1)},r=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,o=!navigator.userAgent.match(/CriOS\//),R="GET"===P||""===P,r&&o&&R&&w(),this.Turbolinks={visit:$}}.call(this),function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Object}function n(o,r){var i;for(i in r)e(r[i])||t(r[i])?(e(r[i])&&!e(o[i])&&(o[i]={}),t(r[i])&&!t(o[i])&&(o[i]=[]),n(o[i],r[i])):void 0!==r[i]&&(o[i]=r[i])}function o(t,e){var o={};return n(o,t),n(o,e),o}function r(t){var e,n,o,r,i,a,u,c,l,d,s;return d=Object.prototype.toString.call(t),"[object Date]"===d?t:"[object String]"===d?(o=t.match(S))?(s=parseInt(o[1],10),a=parseInt(o[3],10)-1,e=parseInt(o[5],10),n=parseInt(o[7],10),i=o[9]?parseInt(o[9],10):0,l=o[11]?parseInt(o[11],10):0,r=o[12]?1e3*parseFloat(k+o[12].slice(1)):0,c=Date.UTC(s,a,e,n,i,l,r),o[13]&&o[14]&&(u=60*o[15],o[17]&&(u+=parseInt(o[17],10)),u*="-"===o[14]?-1:1,c-=1e3*60*u),new Date(c)):void 0:void 0}function i(t){var e,n,o;for(e=0;e<t.length;e++)for(o=t[e].data,n=0;n<o.length;n++)if(o[n][1]<0)return!0;return!1}function a(t,e,n,r){return function(a,u){var c=o({},t);return u.hideLegend&&e(c),"min"in u?n(c,u.min):i(a)||n(c,0),"max"in u&&r(c,u.max),c=o(c,u.library||{})}}function u(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function c(t,e){u(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function l(t,e,n){$.ajax({dataType:"json",url:e,success:n,error:function(e,n,o){var r="string"==typeof o?o:o.message;c(t,r)}})}function d(t,e,n,o){try{o(t,e,n)}catch(r){throw c(t,r.message),r}}function s(t,e,n,o){"string"==typeof e?l(t,e,function(e){d(t,e,n,o)}):d(t,e,n,o)}function f(t){return""+t}function h(t){return parseFloat(t)}function p(t){if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{var e=t.replace(/ /,"T").replace(" ","").replace("UTC","Z");t=r(e)||new Date(t)}return t}function m(e){if(!t(e)){var n,o=[];for(n in e)e.hasOwnProperty(n)&&o.push([n,e[n]]);e=o}return e}function g(t,e){return t[0].getTime()-e[0].getTime()}function v(e,n,o){var r,i,a,u,c;for(!t(e)||"object"!=typeof e[0]||t(e[0])?(e=[{name:"Value",data:e}],n.hideLegend=!0):n.hideLegend=!1,r=0;r<e.length;r++){for(a=m(e[r].data),u=[],i=0;i<a.length;i++)c=a[i][0],c=o?p(c):f(c),u.push([c,h(a[i][1])]);o&&u.sort(g),e[r].data=u}return e}function w(t,e,n){C(t,v(e,n,!0),n)}function y(t,e,n){T(t,v(e,n,!1),n)}function b(t,e,n){var o,r=m(e);for(o=0;o<r.length;o++)r[o]=[f(r[o][0]),h(r[o][1])];A(t,r,n)}function x(t,e,n,o){"string"==typeof t&&(t=document.getElementById(t)),s(t,e,n||{},o)}var C,A,T,S=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i,k=String(1.5).charAt(1);if("Highcharts"in window){var L={xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}}},E=function(t){t.legend.enabled=!1},H=function(t,e){t.yAxis.min=e},z=function(t,e){t.yAxis.max=e},O=a(L,E,H,z);C=function(t,e,n){var o,r,i,a=O(e,n);for(a.xAxis.type="datetime",a.chart={type:"spline",renderTo:t.id},r=0;r<e.length;r++){for(o=e[r].data,i=0;i<o.length;i++)o[i][0]=o[i][0].getTime();e[r].marker={symbol:"circle"}}a.series=e,new Highcharts.Chart(a)},A=function(t,e,n){var r=o(L,n.library||{});r.chart={renderTo:t.id},r.series=[{type:"pie",name:"Value",data:e}],new Highcharts.Chart(r)},T=function(t,e,n){var o,r,i,a,u=O(e,n),c=[];for(u.chart={type:"column",renderTo:t.id},o=0;o<e.length;o++)for(i=e[o],r=0;r<i.data.length;r++)a=i.data[r],c[a[0]]||(c[a[0]]=new Array(e.length)),c[a[0]][o]=a[1];var l=[];for(o in c)c.hasOwnProperty(o)&&l.push(o);u.xAxis.categories=l;var d=[];for(o=0;o<e.length;o++){for(a=[],r=0;r<l.length;r++)a.push(c[l[r]][o]);d.push({name:e[o].name,data:a})}u.series=d,new Highcharts.Chart(u)}}else if("google"in window){var D=!1;google.setOnLoadCallback(function(){D=!0}),google.load("visualization","1.0",{packages:["corechart"]});var N=function(t){google.setOnLoadCallback(t),D&&t()},L={fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},gridlines:{color:"transparent"},baselineColor:"#ccc"},vAxis:{textStyle:{color:"#666",fontSize:12},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},E=function(t){t.legend.position="none"},H=function(t,e){t.vAxis.viewWindow.min=e},z=function(t,e){t.vAxis.viewWindow.max=e},O=a(L,E,H,z),j=function(t,e){var n=new google.visualization.DataTable;n.addColumn(e,"");var o,r,i,a,u,c=[];for(o=0;o<t.length;o++)for(i=t[o],n.addColumn("number",i.name),r=0;r<i.data.length;r++)a=i.data[r],u="datetime"===e?a[0].getTime():a[0],c[u]||(c[u]=new Array(t.length)),c[u][o]=h(a[1]);var l=[];for(o in c)c.hasOwnProperty(o)&&l.push(["datetime"===e?new Date(h(o)):o].concat(c[o]));return"datetime"===e&&l.sort(g),n.addRows(l),n};C=function(t,e,n){N(function(){var o=O(e,n),r=j(e,"datetime"),i=new google.visualization.LineChart(t);i.draw(r,o)})},A=function(t,e,n){N(function(){var r=o(L,n.library||{});r.chartArea={top:"10%",height:"80%"};var i=new google.visualization.DataTable;i.addColumn("string",""),i.addColumn("number","Value"),i.addRows(e);var a=new google.visualization.PieChart(t);a.draw(i,r)})},T=function(t,e,n){N(function(){var o=O(e,n),r=j(e,"string"),i=new google.visualization.ColumnChart(t);i.draw(r,o)})}}else C=A=T=function(){throw new Error("Please install Google Charts or Highcharts")};var P={LineChart:function(t,e,n){x(t,e,n,w)},ColumnChart:function(t,e,n){x(t,e,n,y)},PieChart:function(t,e,n){x(t,e,n,b)}};window.Chartkick=P}(),function(){}.call(this);